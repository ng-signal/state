echo "Running library coverage before push..."

npm run test:coverage:clean

npm run test:coverage:app || {
  printf "\n\nERROR: Test Coverage issues were found in the 'app' committed files. Please address them before proceeding.\n\n\n\n"
  exit 1
}

npm run test:coverage:state || {
  printf "\n\nERROR: Test Coverage issues were found in the 'state' committed files. Please address them before proceeding.\n\n\n\n"
  exit 1
}

echo "Pre-push checks complete."