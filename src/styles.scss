@use '@angular/material' as mat;
@use 'global' as ngVault;

// ============================================
// üåê Global Application Theme ‚Äî ngVault + Material
// ============================================

body {
  // Default: Light Mode
  color-scheme: light dark;

  background-color: var(--ngvault-surface-light);
  color: var(--ngvault-text-inverse);
  font-family: ngVault.$ngvault-font-family;
  font-weight: ngVault.$ngvault-font-weight;
  font-size: ngVault.$font-size-md;
  line-height: ngVault.$line-height;
  margin: 0;

  // Smooth text rendering
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  text-rendering: optimizeLegibility;

  // üß© Material‚ÄìVault color variable mapping
  --mat-sys-surface: var(--ngvault-surface-light);
  --mat-sys-on-surface: var(--ngvault-text-inverse);
  --mat-sys-primary: var(--ngvault-primary);
  --mat-sys-on-primary: #{ngVault.$ngvault-text-white};
  --mat-sys-error: var(--ngvault-warn);
  --mat-sys-success: var(--ngvault-success);
  --mat-sys-outline: #{ngVault.$ngvault-surface-outline};

  transition:
    background-color 0.3s ease,
    color 0.3s ease;
}

// ============================================
// üß± Structural Layout Defaults
// ============================================

html {
  scroll-behavior: smooth;
  transition:
    background-color 0.3s ease,
    color 0.3s ease;
}

html,
body {
  height: 100%;
  min-height: 100vh;
  display: flex;
  flex-direction: column;
  background-color: var(--ngvault-surface-light);
}

main {
  flex: 1;
  display: flex;
  flex-direction: column;
  background-color: var(--ngvault-surface-light);
  color: var(--ngvault-text-inverse);
  padding: ngVault.$spacing-md;
  transition:
    background-color 0.3s ease,
    color 0.3s ease;
}

footer {
  height: var(--app-footer-height, 48px);
  background-color: var(--ngvault-surface-light);
  color: var(--ngvault-text-secondary);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: ngVault.$font-size-sm;
  border-top: 1px solid var(--ngvault-surface-outline);
}

// ============================================
// üåí Dark Mode Overrides (System preference)
// ============================================

@media (prefers-color-scheme: dark) {
  html {
    color-scheme: dark;
  }

  body {
    background-color: ngVault.$ngvault-surface-darker;
    color: ngVault.$ngvault-text-primary;

    --mat-sys-surface: #{ngVault.$ngvault-surface-darker};
    --mat-sys-on-surface: #{ngVault.$ngvault-text-primary};
  }

  main {
    background-color: ngVault.$ngvault-surface-dark;
    color: ngVault.$ngvault-text-primary;
  }

  footer {
    background-color: ngVault.$ngvault-surface-dark;
    color: ngVault.$ngvault-text-secondary;
  }
}
